"use strict";define(["module"],function(t){var e=Object.create(null,{ipUrl:{value:"",writable:!1,configurable:!1}});(function(){this.init=function(){return"加载成功！"},this.initAjax=function(t,e,n,r){$.ajax({url:t,data:e,type:n,cache:!0,async:!0,dataType:"json",success:function(t){r&&"function"==typeof r&&r(t)}})},this.addEvent=function(t,e,n){try{t.addEventListener(e,n,!1)}catch(r){try{t.attachEvent("on"+e,n)}catch(t){}}},this.parseURL=function(t){var e=window.location.href.split("?")[1];if(void 0!==e){for(var n,r=e.split("&"),i=0,a=r.length;i<a;i++){if(r[i].indexOf(t+"=")>=0){n=i;break}n=-1}if(n>=0)return r[n].split("=")[1]}},this.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}).apply(e),t.exports=e}),function(t,e,n){function r(e,n){n.isRotate&&e.addClass("rotate"),e.animate({bottom:n.beatHeight},{queue:!1,duration:n.upTime,easing:"easeOutCubic",complete:function(){e.removeClass("rotate"),t(this).animate({bottom:0},{queue:!1,duration:n.downTime,easing:"easeOutBounce",complete:function(){if(n.isAuth){var t=e.parent().children().length;r(e.index()==t-1?e.parent().find("span.beat-char:first"):e.next(),n)}}})}})}t.fn.shCircleLoader=function(e,n){var r="shcl",i=1,a=t(this);if("destroy"!==e)if("progress"!==e||void 0===n){var s={namespace:r,radius:"auto",dotsRadius:"auto",color:"auto",dots:12,duration:1,clockwise:!0,externalCss:!1,keyframes:"0%{{prefix}transform:scale(1)}80%{{prefix}transform:scale(.3)}100%{{prefix}transform:scale(1)}",uaPrefixes:["o","ms","webkit","moz",""]};t.extend(s,e);for(var o=s.color,u=s.namespace,l=s.dots,c=s.externalCss,p=s.uaPrefixes,f=function(t){return t.replace(/(.*)px$/i,"$1")},h=function(e,n){var r,i,a={};if(e.substr)for(r=0;r<p.length;r++)i=p[r].length?"-"+p[r]+"-":"",a[i+e]=n;else t.each(e,function(e,n){t.extend(a,h(e,n))});return a};t("#"+u+i).get(0);)i++;if(!c){var d=s.keyframes.replace(/\s+$/,"").replace(/^\s+/,"");/(\;|\{)\s*visibility\s*\:/gi.test(d)||(d=/^(0+\%|from)\s*\{/i.test(d)?d.replace(/^((0+\%|from)\s*\{)(.*)$/i,"$1visibility:visible;$3"):/\s+(0+\%|from)\s*\{/i.test(d)?d.replace(/(\s+(0+\%|from)\s*\{)/i,"$1visibility:visible;"):"0%{visibility:visible}"+d),t(t("head").get(0)?"head":"body").append('<style id="'+u+i+'" type="text/css">'+function(t){var e,n,r="";for(e=0;e<p.length;e++)n=p[e].length?"-"+p[e]+"-":"",r+=t.replace(/\{prefix\}/g,n);return r}("@{prefix}keyframes "+u+i+"_bounce{"+d+"}")+"</style>")}a.each(function(){var e,n,a,p,d,m,g,v,b,y,x={},w=t(this),A=w.find("."+r);for(A.get(0)&&A.shCircleLoader("destroy"),w.html('<div class="'+u+(u!=r?" "+r:"")+'"></div>'),c&&(w=w.find("div")),m=w.innerWidth()-f(w.css("padding-left"))-f(w.css("padding-right")),g=w.innerHeight()-f(w.css("padding-top"))-f(w.css("padding-bottom")),e="auto"==s.radius?m<g?m/2:g/2:s.radius,c||(e--,n="auto"==s.dotsRadius?(n=Math.abs(Math.sin(Math.PI/(1*l)))*e)*e/(n+e)-1:s.dotsRadius,w=w.find("div"),y={position:"relative",width:(a=Math.ceil(2*e))+"px",height:a+"px"},a<m&&(y.marginLeft=Math.round((m-a)/2)),a<g&&(y.marginTop=Math.round((g-a)/2)),w.css(y),x={position:"absolute",visibility:"hidden",width:a=Math.ceil(2*n)+"px",height:a},null!==o&&(x.background="auto"==o?w.css("color"):o),t.extend(x,h({"border-radius":Math.ceil(n)+"px","animation-name":u+i+"_bounce","animation-duration":s.duration+"s","animation-iteration-count":"infinite","animation-direction":"normal"}))),a=0;a<l;a++)w.append("<div></div>"),c&&void 0===n&&(n=f(w.find("div").css("width"))/2),p=w.find("div").last(),v=s.duration/l*a,d=2*Math.PI*a/l,m=(b=e-n)*Math.sin(d),g=b*Math.cos(d),s.clockwise&&(g=-g),y={left:Math.round(m+b)+"px",top:Math.round(g+b)+"px"},v&&t.extend(y,h("animation-delay",v+"s")),t.extend(y,x),p.css(y)})}else a.each(function(){var e=t(this),i=e.find("."+r);if(i.get(0)){e.find("span").get(0)||i.append("<span></span>");var a=i.find("span").last();a.html(n).css({position:"absolute",display:"block",left:Math.round((i.width()-a.width())/2)+"px",top:Math.round((i.height()-a.height())/2)+"px"})}});else a.find("."+r).detach()},t.fn.loginAjax=function(t){return 1},t.fn.loginAjax2=function(e){var n=!1,r={tips_success:"",tips_required:"不能为空！",tips_mail:"请输入正确的邮箱！",reg_mail:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/};e&&t.extend(r,e),this.is("form")&&this.submit(function(e){if(n=!0,t(":text, :password").each(function(){var e=t(this).attr("data-check"),r=t(this).attr("data-news");if(e)for(var a=e.split("||"),s=0,o=a.length;s<o;s++)if(!i(t(this),a[s],t(this).val(),r))return n=!1,!1}),e.preventDefault(),!0===n){var r,a=0,s={username:"",password:"",captcha:""},o=[];t(".tpl-form-input").each(function(e){r=t(this).val(),o[e]=r}),t.each(s,function(t,e){s[t]=o[a],a++}),singleMode.ajaxFun(singleMode.url+"user/login",s,"post",function(e){if(!1===e.ok)t(".am-modal-bd").text(e.msg),t("#my-alert").modal("open"),t(".login-yzm-img").attr("src",singleMode.url+"user/next?"+Math.random());else{var n=new Date;n.setTime(n.getTime()+72e5),t.cookie("JSESSIONID",e.JSESSIONID,{expires:n}),t.cookie("username",e.username,{expires:n}),t.cookie("id",e.id,{expires:n}),window.location.href="table-list.html?page=1"}})}});var i=function(e,n,i,s){switch(n){case"required":return""!==t.trim(i)?a(e,r.tips_success,!0):a(e,s+r.tips_required,!1);default:return!0}},a=function(e,n,r){return r||(t(".am-modal-bd").text(n),t("#my-alert").modal("open")),r}},t.fn.beatText=function(e){e=t.extend({beatHeight:"2em",upTime:700,downTime:700,isAuth:!0,isRotate:!0},e);return this.each(function(){var n=t(this);if(n.text()===n.html()){for(var i=n.text(),a="",s=0;s<=i.length;s++){var o=i.slice(s,s+1);a+=t.trim(o)?'<span class="beat-char">'+o+"</span>":o}n.html(a),e.isAuth?n.find("span.beat-char:first").animate({bottom:e.beatHeight},{queue:!1,duration:e.upTime,easing:"easeOutCubic",complete:function(){t(this).animate({bottom:0},{queue:!1,duration:e.downTime,easing:"easeOutBounce",complete:function(){r(t(this).next(),e)}})}}):n.find("span.beat-char").each(function(n,i){t(this).mouseover(function(){r(t(this),e)})})}})}}(jQuery,window,document),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,r,i){return jQuery.easing[jQuery.easing.def](t,e,n,r,i)},easeInQuad:function(t,e,n,r,i){return r*(e/=i)*e+n},easeOutQuad:function(t,e,n,r,i){return-r*(e/=i)*(e-2)+n},easeInOutQuad:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e+n:-r/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,r,i){return r*(e/=i)*e*e+n},easeOutCubic:function(t,e,n,r,i){return r*((e=e/i-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e+n:r/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,r,i){return r*(e/=i)*e*e*e+n},easeOutQuart:function(t,e,n,r,i){return-r*((e=e/i-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e*e+n:-r/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,r,i){return r*(e/=i)*e*e*e*e+n},easeOutQuint:function(t,e,n,r,i){return r*((e=e/i-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e*e*e+n:r/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,r,i){return-r*Math.cos(e/i*(Math.PI/2))+r+n},easeOutSine:function(t,e,n,r,i){return r*Math.sin(e/i*(Math.PI/2))+n},easeInOutSine:function(t,e,n,r,i){return-r/2*(Math.cos(Math.PI*e/i)-1)+n},easeInExpo:function(t,e,n,r,i){return 0==e?n:r*Math.pow(2,10*(e/i-1))+n},easeOutExpo:function(t,e,n,r,i){return e==i?n+r:r*(1-Math.pow(2,-10*e/i))+n},easeInOutExpo:function(t,e,n,r,i){return 0==e?n:e==i?n+r:(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+n:r/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,r,i){return-r*(Math.sqrt(1-(e/=i)*e)-1)+n},easeOutCirc:function(t,e,n,r,i){return r*Math.sqrt(1-(e=e/i-1)*e)+n},easeInOutCirc:function(t,e,n,r,i){return(e/=i/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+n:r/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,r,i){var a=1.70158,s=0,o=r;if(0==e)return n;if(1==(e/=i))return n+r;if(s||(s=.3*i),o<Math.abs(r)){o=r;a=s/4}else a=s/(2*Math.PI)*Math.asin(r/o);return-o*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/s)+n},easeOutElastic:function(t,e,n,r,i){var a=1.70158,s=0,o=r;if(0==e)return n;if(1==(e/=i))return n+r;if(s||(s=.3*i),o<Math.abs(r)){o=r;a=s/4}else a=s/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*e)*Math.sin((e*i-a)*(2*Math.PI)/s)+r+n},easeInOutElastic:function(t,e,n,r,i){var a=1.70158,s=0,o=r;if(0==e)return n;if(2==(e/=i/2))return n+r;if(s||(s=i*(.3*1.5)),o<Math.abs(r)){o=r;a=s/4}else a=s/(2*Math.PI)*Math.asin(r/o);return e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/s)*-.5+n:o*Math.pow(2,-10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/s)*.5+r+n},easeInBack:function(t,e,n,r,i,a){return null==a&&(a=1.70158),r*(e/=i)*e*((a+1)*e-a)+n},easeOutBack:function(t,e,n,r,i,a){return null==a&&(a=1.70158),r*((e=e/i-1)*e*((a+1)*e+a)+1)+n},easeInOutBack:function(t,e,n,r,i,a){return null==a&&(a=1.70158),(e/=i/2)<1?r/2*(e*e*((1+(a*=1.525))*e-a))+n:r/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+n},easeInBounce:function(t,e,n,r,i){return r-jQuery.easing.easeOutBounce(t,i-e,0,r,i)+n},easeOutBounce:function(t,e,n,r,i){return(e/=i)<1/2.75?r*(7.5625*e*e)+n:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+n:r*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,r,i){return e<i/2?.5*jQuery.easing.easeInBounce(t,2*e,0,r,i)+n:.5*jQuery.easing.easeOutBounce(t,2*e-i,0,r,i)+.5*r+n}});var toolClass={uPattern:/^[a-zA-Z0-9_-]{4,16}$/,pPattern:/^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/,cP:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,dP1:/^\d{4}(\-)\d{1,2}\1\d{1,2}$/,urlP:/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,ePattern:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,mPattern:/^[1][3][0-9]{9}$/,cnPattern:/[\u4E00-\u9FA5]/,Regex_MondyNum:/^\d+(\.\d{1,2})?$/,integerPattern:/^-?\d+$/,arrayDisorder:function(t){return t.sort(function(){return Math.random()-.5})},arrayEqual:function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},arrayRandom:function(t){return t[Math.floor(Math.random()*t.length)]},changeCase:function(t,e){switch(e){case 1:return t.replace(/\b\w+\b/g,function(t){return t.substring(0,1).toUpperCase()+t.substring(1).toLowerCase()});case 2:return t.replace(/\b\w+\b/g,function(t){return t.substring(0,1).toLowerCase()+t.substring(1).toUpperCase()});case 3:return n="",t.split("").forEach(function(t){/^([a-z]+)/.test(t)?n+=t.toUpperCase():/^([A-Z]+)/.test(t)?n+=t.toLowerCase():n+=t}),n;case 4:return t.toUpperCase();case 5:return t.toLowerCase();default:return t}var n}},slice=[].slice;!function(){var t,e,n,r,i,a,s,o,u;if(!jQuery)throw new Error("First require jQuery!");a=function(t,e){var n,r,i;if(null==t&&(t=10),null==e&&(e=!1),"boolean"==typeof t&&(t=(r=[8,t])[0],e=r[1]),!e)return Math.floor(Math.random()*t);for(n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789","string"==typeof e&&(n=e),i="";i.length<t;)i+=n[a(n.length)];return i},n=function(t,e){var r,i,a;if(t){if(-1===(i=e.indexOf(".")))return t[e];if(r=e.substr(0,i),isNaN(a=parseInt(r))||(r=a),t[r])return n(t[r],e.substr(i+1))}},o=function(t,e,n){var r,i,a,s;return-1===(i=e.indexOf("."))?(void 0===n?delete t[e]:t[e]=n,n):(r=e.substr(0,i),isNaN(a=parseInt(r))||(r=a),e=e.substr(i+1),t[r]||(s=e,-1!==(i=e.indexOf("."))&&(s=s.substr(0,i)),t[r]=isNaN(parseInt(s))?{}:[]),o(t[r],e,n))},e=function(t){var e,n,r,i,a,s,o,u,l,c,p,f;for(e=/\( *(\w+) *\) *(\w+) *\:?([^\(]*)/g;l=e.exec(t.attr("ml-events"));)o=l.slice(1,4),f=o[0],a=o[1],s=o[2],("repeat"===f||"each"===f||"insert"===f||"remove"===f)&&(f="ml-"+f),p=t[0].tagName.toLowerCase(),"change"===f&&"input"===p&&(f="ml-change"),t.on(f,{type:f,name:a,raw:s},function(){var t,e,n,r,i,o,u,l,c,p,h,d,m,g,v,b,y;if(e=arguments[0],t=2<=arguments.length?slice.call(arguments,1):[],e.stopPropagation(),c=e.data,f=c.type,a=c.name,null==(s=c.raw)&&(s=""),"function"==typeof(n=null!=(p=ml.EVENTS)?p[a]:void 0)){if(g=(r=$(this)).closest("[name='#']"),"string"==typeof(v=g.attr("ml-binding"))&&(m=new RegExp(v.replace(/\d+/g,"#"))),l=function(t){return null==t&&(t=""),t=t.trim(),m&&-1!==t.indexOf("#")&&(t=t.replace(m,v)),t},e.data=l(s),-1!==s.indexOf("="))for(e.data={},i=0,u=(h=s.split(",")).length;u>i;i++)(b=h[i])&&(o=(d=b.split("="))[0],y=d[1],e.data[o.trim()]=l(y));return t.unshift(e),n.apply(r,t)}});for(c=[],n=0,i=(u=["insert","remove"]).length;i>n;n++)f=u[n],(r=t.attr("ml-"+f))&&c.push(t.on("click",{type:f,keypath:r},function(t){var e,n,i,a,s;return t.stopPropagation(),i=t.data,f=i.type,null==(r=i.keypath)&&(r=""),"function"==typeof(e=ml[f])?(n=$(this),-1!==(r=r.trim()).indexOf("#")&&(s=n.closest("[name='#']").attr("ml-binding"),a=new RegExp(s.replace(/\d+/g,"#")),r=r.replace(a,s)),e.call(n,r),setTimeout(function(){return n.triggerHandler("ml-"+f,r)})):void 0}));return c},t=function(e){var n,r;return null==ml.TEMPLATES&&(ml.TEMPLATES={}),ml.TEMPLATES[n=a(!0)]?t(e):(r=e.closest("[name][name!='#']"),ml.TEMPLATES[n]=e,r.attr("ml-template",n),e.detach())},(u=function(t,e){var r,i,a,s,l,c,p;if((i=t.attr("ml-binding"))||t.attr("ml-binding",i=t.attr("name")),e||(e=n(ml.DATA,i)),c=t.find("[name]"),!(p=t.attr("ml-template")))return 0===c.length?u.single(i,t,e):(e||(e=o(ml.DATA,i,{})),void c.each(function(){var t,n;return t=$(this),u.bound||!t.attr("ml-binding")?(n=t.attr("name"),t.attr("ml-binding",i+"."+n),u(t,e[n])):void 0}));if($.isArray(e)||(e=o(ml.DATA,i,[])),e.reserve=0,isNaN(s=parseInt(t.attr("ml-reserve")))||(e.reserve=s),(a=e.reserve-e.length)>0)for(r=0,l=a;l>=0?l>r:r>l;l>=0?++r:--r)e.push(null);return u.repeat(t,ml.TEMPLATES[p],e),t.triggerHandler("ml-repeat",e.length)}).repeat=function(t,e,n){var r,i,a,s,o,l,c,p,f,h,d;if(t.empty(),$.isArray(n)){for(p=t.attr("ml-binding"),f=t.attr("ml-template"),o=n.length,c=[],r=i=0,s=n.length;s>i;r=++i)h=n[r],a=p+"."+r,(l=e.clone(!0)).attr("ml-binding",a),l.attr("ml-belong",f),t.append(l),u.repeat.mode(l,r,o),(d=l.find("[name='$']")).length?u.single(a,d,h):u(l,h),c.push(l.triggerHandler("ml-each",r));return c}},u.repeat.mode=function(t,e,n){var r,i;return r=n-1,i=t.attr("ml-belong"),t.find("[ml-repeat]").each(function(){var t;if((t=$(this)).attr("ml-repeat"),i===t.closest("[name='#']").attr("ml-belong"))switch(t.css("display",""),t.attr("ml-repeat")){case"header":if(e>0)return t.css("display","none");break;case"body":if(!(e>0&&r>e))return t.css("display","none");break;case"odd":if(!(e%2))return t.css("display","none");break;case"even":if(e%2)return t.css("display","none");break;case"footer":if(r>e)return t.css("display","none")}})},u.single=function(t,e,r){var i,a,s;switch((null==r||0===r.length)&&("string"==typeof(r=e.attr("ml-default")||null)&&/^[\[\{]/.test(r)&&(r=JSON.parse(r)),o(ml.DATA,t,r)),e[0].tagName.toLowerCase()){case"input":switch((s=e.attr("type")||"text").toLowerCase()){case"text":case"email":i="keyup blur";break;default:i="change"}switch(e.data("changeEvent")||(e.data("changeEvent",!0),e.on(i,{type:s},function(e){var r,i,a,s;if(e.stopPropagation(),r=$(this),i="checkbox"===e.data.type,t=r.attr("ml-binding"),void 0===(s=r.data("value")))switch(e.data.type){case"checkbox":case"radio":break;default:s=r.val()}if(a=n(ml.DATA,t),i)if($.isArray(a)||(a=[]),r.prop("checked")){if(-1!==a.indexOf(s))return;a.push(s),o(ml.DATA,t,a)}else{if(-1===a.indexOf(s))return;a.splice(a.indexOf(s),1),o(ml.DATA,t,a)}else{if(a===s)return;o(ml.DATA,t,s)}return r.triggerHandler("ml-change"),$("[ml-binding='"+t+"']").not(r).each(function(){var e,n;return(n=(e=$(this)).find("[name='$']")).length?u.single(t,n,s):u.single(t,e,s)})})),s){case"checkbox":if(!$.isArray(r))return;return $("[ml-binding='"+t+"'][type='checkbox']").not(e).each(function(t){var e,n;return e=$(this),n=parseInt(e.data("value")),isNaN(n)&&(n=t),e.prop("checked",-1!==r.indexOf(n))});case"radio":if(isNaN(a=parseInt(r)))return;return $("[ml-binding='"+t+"'][type='radio']").not(e).each(function(t){var e,n;return e=$(this),n=parseInt(e.data("value")),isNaN(n)&&(n=t),e.prop("checked",a===n)});default:return e.val(r)}break;case"meta":return o(ml.DATA,t,e.attr("content"));case"img":return null==r&&(r=e.attr("ml-placeholder")),e.attr("src",r);default:return null==r&&(r=e.attr("ml-placeholder")),e.text(r)}},r=function(t,e,n){var r,a,s,o,l;if(!(l=t.attr("ml-template")))throw new Error("template is "+l);return a=t.attr("ml-binding")+"."+e,(s=ml.TEMPLATES[l].clone(!0)).attr("ml-binding",a),s.attr("ml-belong",l),(r=t.find("[ml-binding='"+a+"']")).length?s.insertBefore(r):t.append(s),i(t),(o=s.find("[name='$']")).length?u.single(a,o,n):u(s,n),s.triggerHandler("ml-each",e)},s=function(t,e){var n,r;if(n=t.attr("ml-binding")+"."+e,!(r=t.find("[ml-binding='"+n+"']")).length)throw new Error("not found "+n);return setTimeout(r.remove,1e3),r.detach(),i(t)},i=function(t){var e,n,r,i,a;return i=t.attr("ml-binding"),a=t.attr("ml-template"),n=new RegExp(i+"\\.\\d+","g"),r=t.find("[ml-belong='"+a+"']"),e=r.length,r.each(function(t){var r,a,s;return a=(r=$(this)).attr("ml-binding"),s=i+"."+t,r.attr("ml-binding",a.replace(n,s)),u.repeat.mode(r,t,e),r.find("[ml-binding*='"+a+"']").each(function(){var t;return t=(r=$(this)).attr("ml-binding"),r.attr("ml-binding",t.replace(n,s))})})},window.ml=window.modelite=function(t,e){if("string"!=typeof t)throw TypeError(t+" is not string");return void 0===e?n(ml.DATA,t):(o(ml.DATA,t,e),$("[ml-binding='"+t+"']").each(function(){return u($(this))}))},ml.clear=function(t){return ml(t,null)},ml.insert=function(t,e){var i,a,s,u;if(null==e&&(e=null),"string"!=typeof t)throw TypeError(t+" is not string");return s=t.lastIndexOf("."),i=NaN,-1!==s&&(i=parseInt(t.substr(s+1))),isNaN(i)?i=Number.MAX_VALUE:t=t.substr(0,s),u=n(ml.DATA,t),$.isArray(u)||(u=o(ml.DATA,t,[])),a=u.length,i>a&&(i=a),0>i&&(i=a+i),0>i&&(i=0),u.splice(i,0,e),$("[ml-binding='"+t+"']").each(function(){return r($(this),i,e)})},ml.remove=function(t){var e,r,i,a,o,u,l,c;if("string"!=typeof t)throw TypeError(t+" is not string");if(a=t.lastIndexOf("."),e=NaN,-1!==a&&(e=parseInt(t.substr(a+1))),isNaN(e)?e=Number.MAX_VALUE:t=t.substr(0,a),c=n(ml.DATA,t),$.isArray(c)&&c.length&&(i=c.length-1,e>i&&(e=i),0>e&&(e=i+e),0>e&&(e=0),c.splice(e,1),$("[ml-binding='"+t+"']").each(function(){return s($(this),e)}),c.length<c.reserve)){for(l=[],r=o=c.length,u=c.reserve;u>=o?u>r:r>u;u>=o?++r:--r)l.push(ml.insert(t));return l}},ml.emit=function(){var t,e,n,r;return e=arguments[0],1===(t=2<=arguments.length?slice.call(arguments,1):[]).length&&"string"==typeof t[0]?$("[ml-binding='"+e+"']").triggerHandler(t[0]):null!=(n=ml.EVENTS)&&null!=(r=n[e])?r.apply(null,t):void 0},$(function(){return null==ml.DATA&&(ml.DATA={}),null==ml.EVENTS&&(ml.EVENTS={}),$("[ml-events], [ml-insert], [ml-remove]").each(function(){return e($(this))}),$("[name='#']").each(function(){return t($(this))}),$("[name]").each(function(){return u($(this))}),u.bound=!0})}();var q=function(t,e,n,r,i,a,s,o,u,l,c,p){return n=e.documentElement,l=[],c="!",onhashchange=function(){for(p.hash=r=location.hash.substring(c.length+1),a=r.split("/"),o=l.length;o--;)if(s=r.match(l[o])){(a=s)[0]=l[o];break}p[a[0]]||(a[0]=u),p.pop&&p.pop.apply(t,a),p.lash=i=a.shift(),n.setAttribute("view",i),p[i].apply(t,a)},!1 in t&&(p.path=location.hash,setInterval(function(){p.path!=location.hash&&(onhashchange(),p.path=location.hash)},100)),p={init:function(t){return void 0!==t.key&&(c=t.key),u=t.index||"V",t.pop&&"function"==typeof t.pop&&(p.pop=t.pop),onhashchange(),this},reg:function(t,e){if(t){if(null==e&&(e=function(){}),t instanceof RegExp)p[t]=e,l.push(t);else if(t instanceof Array)for(var n in t)this.reg.apply(this,[].concat(t[n]).concat(e));else"string"==typeof t&&("function"==typeof e?p[t]=e:"string"==typeof e&&p[e]&&(p[t]=p[e]));return this}},V:function(){return this},go:function(t){return location.hash="#"+c+t,this}}}(this,document);!function(t,e){function n(t){this.$element=t.element,this.first=!0,t.option.curr=parseInt(t.option.curr)||1,t.option.theme=t.option.theme||"default",t.option.groups=void 0!==t.option.groups?parseInt(t.option.groups):5,this.option=t.option,this._init()}n.prototype._init=function(){if(this.option.groups>0&&(this.option._prev=Math.ceil(this.option.groups/2),this.option._next=Math.floor(this.option.groups/2),this.option._status={prev:!1,next:!1}),this.option.before){var t=this;this.option.before(this,function(){t._load()})}else this._load()},n.prototype._load=function(){var e=this.option;if(!e.pages||1==e.pages)return!1;var n=this.$element,r=t("<ul></ul>");r.addClass("am-pagination am-pagination-default am-page-"+e.theme),n.html(r);var i=[];e.curr>1&&!1!==e.prev&&i.push({key:"prev",value:e.prev||"上一页",page:e.curr-1}),e.first&&i.push({key:"first",value:e.first,page:1});for(var a=1;a<=e.pages;a++)i.push({key:a,value:a,page:a});e.last&&i.push({key:"last",value:e.last,page:e.pages}),e.curr!=e.pages&&!1!==e.next&&i.push({key:"next",value:e.next||"下一页",page:e.curr+1});var s=function(t,e,n){var r,i,a,s,o=t.option;return(0!=o.groups||"number"!=typeof n)&&("number"==typeof n&&o.groups<o.pages&&!1!==(s="<span>...</span>",r=(a=n)<=((i=o).curr+i._next<i.pages?i.curr-i._prev:i.pages-i.groups)?(s=i._status.prev?"":s,i._status.prev=!0,s):a>(i.curr+i._next<i.groups?i.groups:i.curr+i._next)&&(s=i._status.next?"":s,i._status.next=!0,s))?r:(o.curr==n&&e.addClass("am-active"),e))};e.render&&e.render;for(var a in i){var o,u=t('<li><a href="javascript:" data-page="'+i[a].page+'">'+i[a].value+"</a></li>");e.render&&(o=e.render(this,u,i[a].key))||(o=s(this,u,i[a].key)),r.append(o)}if(this._on(),this.option.after){var l=this;this.option.after(this,function(){l._jump()})}else this._jump()},n.prototype._on=function(){var e=this;e.$element.one("click","li a",function(){e.option.curr=t(this).data("page"),e._init()})},n.prototype._jump=function(){!this.first&&"string"==typeof this.option.jump&&this.option.jump.indexOf("%page%")>-1?window.location.href=this.option.jump.replace("%page%",this.option.curr):("function"==typeof this.option.jump&&(this.$element.trigger("jump.page.amui"),this.option.jump(this,this.first)),this.first=!1)},n.prototype.remove=function(t){this.$element.trigger("remove.page.amui"),this.$element.remove(),this.$element.trigger("removed.page.amui"),t&&t()},n.prototype.setCurr=function(t,e){this.option.curr=parseInt(t),this._init(),e&&e()},t.fn.extend({page:function(t){return new n({element:this,option:t})}}),e.ready(function(n){t("[data-am-page]",n).each(function(){var n=e.utils.parseOptions(t(this).attr("data-am-page"));n.before=window[n.before],n.render=window[n.render],n.after=window[n.after],n.jump&&-1==n.jump.indexOf("%page%")&&(n.jump=window[n.jump]),t(this).page(n)})})}(jQuery,jQuery.AMUI);